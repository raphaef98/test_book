{"title":"Lecture 5","markdown":{"yaml":{"title":"Lecture 5"},"headingText":"Data Manipulation with pandas","containsRefs":false,"markdown":"\n\n\n\n\nIn this lecture we will get to know and become experts in:\n1. [Data Manipulation with pandas](#Data-Manipulation-with-pandas)\n    * [Handling Files](#Handling-Files)\n    * Counting and Summary Statistics\n    * [Grouped Operations](#Grouped-Operations)\n2. [Plotting](#Plotting)\n    * matplotlib\n    * pandas\n\nAnd if you want to delve deeper, look at the \n[Advanced topics](#Advanced-topics)\n\nRelevant DataCamp lessons:\n\n* [Data manipulation with pandas](https://campus.datacamp.com/courses/data-manipulation-with-pandas), Chaps 2 and 4\n* [Matplotlib](https://campus.datacamp.com/courses/intermediate-python), Chap 1\n\n\n\n\nWhile we have seen panda's ability to (i) mix data types (strings, numbers, categories, Boolean, ...) and (ii) refer to columns and rows by names, this library offers a lot more powerful tools for efficiently gaining insights from data, e.g.\n\n- summarize/aggregate data in efficient pivot style manners\n- handling missing values\n- visualize/plot data\n\n\n\n\n\n\n## Handling Files\n\nGet to know your friends\n\n* `pd.read_csv`\n* `pd.read_table`\n* `pd.read_excel`\n\nBut before that we need to connect to our Google drives ! (more instructions can be found [here](https://gist.github.com/kelly-sovacool/c33b64b70164be37d75bd40c9b56b498))\n\nCounting and Summary Statistics\n\n## Grouped Operations\n\nThe gapminder data is a good example for wanting to apply functions to subsets to data that correspond to categories, e.g.\n* by year\n* by country\n* by continent\n\nThe powerful pandas `.groupby()` method enables exactly this goal rather elegantly and efficiently.\n\nFirst, think how you could possibly compute the average GDP seprataley for each continent. The `numpy.mean(..., axis=...)` will not help you. \n\nInstead you will have to manually find all continents and then use Boolean logic:\n\nInstead, we should embrace the concept of **grouping by a variable**\n\n---------------------------------------\n\n### Titanic data\n\nTasks:\n\n- compute the proportion of survived separately for \n  * male/female\n  * the three classes\n  * Pclass and sex \n\n- compute the mean age separately for male/female\n\n## Plotting\n\nWe will not spend much time with basic plots in matplotlib but instead move quickly toward the pandas versions of these functions.\n\npandas offers plots directly from its objects\n\nAnd often the axis labels are taken care of\n\nBut you can customize each plot as you wish:\n\nTasks:\n\n* Compute the avg. life expectancy in the gapminder data for each year\n* Plot this as a line plot and give meaningful x and y labels and a title\n\n_________________________\n\n## Advanced topics\n\n### Creating Dataframes\n\n1. Zip\n2. From list of dicts\n\n### Indexing:\n\n1. multilevel indexes \n2. sorting \n3. asking for ranges\n\n## Types of columns\n\n1. categorical\n2. dates\n\n### Inplace\n\nNote that I reassigned the objects in the code above. That is because most operations, such as `set_index`, `sort_index`, `drop`, etc. do not operate **inplace** unless specified!\n","srcMarkdownNoYaml":"\n\n\n\n\nIn this lecture we will get to know and become experts in:\n1. [Data Manipulation with pandas](#Data-Manipulation-with-pandas)\n    * [Handling Files](#Handling-Files)\n    * Counting and Summary Statistics\n    * [Grouped Operations](#Grouped-Operations)\n2. [Plotting](#Plotting)\n    * matplotlib\n    * pandas\n\nAnd if you want to delve deeper, look at the \n[Advanced topics](#Advanced-topics)\n\nRelevant DataCamp lessons:\n\n* [Data manipulation with pandas](https://campus.datacamp.com/courses/data-manipulation-with-pandas), Chaps 2 and 4\n* [Matplotlib](https://campus.datacamp.com/courses/intermediate-python), Chap 1\n\n\n\n## Data Manipulation with pandas\n\nWhile we have seen panda's ability to (i) mix data types (strings, numbers, categories, Boolean, ...) and (ii) refer to columns and rows by names, this library offers a lot more powerful tools for efficiently gaining insights from data, e.g.\n\n- summarize/aggregate data in efficient pivot style manners\n- handling missing values\n- visualize/plot data\n\n\n\n\n\n\n## Handling Files\n\nGet to know your friends\n\n* `pd.read_csv`\n* `pd.read_table`\n* `pd.read_excel`\n\nBut before that we need to connect to our Google drives ! (more instructions can be found [here](https://gist.github.com/kelly-sovacool/c33b64b70164be37d75bd40c9b56b498))\n\nCounting and Summary Statistics\n\n## Grouped Operations\n\nThe gapminder data is a good example for wanting to apply functions to subsets to data that correspond to categories, e.g.\n* by year\n* by country\n* by continent\n\nThe powerful pandas `.groupby()` method enables exactly this goal rather elegantly and efficiently.\n\nFirst, think how you could possibly compute the average GDP seprataley for each continent. The `numpy.mean(..., axis=...)` will not help you. \n\nInstead you will have to manually find all continents and then use Boolean logic:\n\nInstead, we should embrace the concept of **grouping by a variable**\n\n---------------------------------------\n\n### Titanic data\n\nTasks:\n\n- compute the proportion of survived separately for \n  * male/female\n  * the three classes\n  * Pclass and sex \n\n- compute the mean age separately for male/female\n\n## Plotting\n\nWe will not spend much time with basic plots in matplotlib but instead move quickly toward the pandas versions of these functions.\n\npandas offers plots directly from its objects\n\nAnd often the axis labels are taken care of\n\nBut you can customize each plot as you wish:\n\nTasks:\n\n* Compute the avg. life expectancy in the gapminder data for each year\n* Plot this as a line plot and give meaningful x and y labels and a title\n\n_________________________\n\n## Advanced topics\n\n### Creating Dataframes\n\n1. Zip\n2. From list of dicts\n\n### Indexing:\n\n1. multilevel indexes \n2. sorting \n3. asking for ranges\n\n## Types of columns\n\n1. categorical\n2. dates\n\n### Inplace\n\nNote that I reassigned the objects in the code above. That is because most operations, such as `set_index`, `sort_index`, `drop`, etc. do not operate **inplace** unless specified!\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","number-sections":false,"output-file":"Lecture5.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.361","theme":"cosmo","number-depth":1,"title":"Lecture 5"},"extensions":{"book":{"multiFile":true}}},"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"Lecture5.pdf"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"block-headings":true,"documentclass":"scrreprt","title":"Lecture 5"},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["html","pdf"]}